<%- include("header") %>

    <!-- ============================================================== -->
    <!-- Page wrapper  -->
    <!-- ============================================================== -->
    <div class="page-wrapper">
        <!-- ============================================================== -->
        <!-- Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <div class="page-breadcrumb">
            <div class="row">
                <div class="col-12 d-flex no-block align-items-center">
                    <h4 class="page-title">View Blog </h4>
                    <div class="ml-auto text-right">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="/">Home</a></li>
                                <li class="breadcrumb-item active" aria-current="page">Library</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <!-- ============================================================== -->
        <!-- End Bread crumb and right sidebar toggle -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Container fluid  -->
        <!-- ============================================================== -->
        <div class="container-fluid">
            <!-- ============================================================== -->
            <!-- Start Page Content -->
            <!-- ============================================================== -->
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title m-b-0 mb-4">View All Blog</h5>
                            <div class="mb-4">
                                <a href="/blog/viewAllblog"
                                    class="btn btn-sm category-btn <%= category === '' ? 'btn-primary' : 'btn-outline-primary' %>">All</a>
                                <a href="/blog/viewAllblog?category=Travel"
                                    class="btn btn-sm category-btn <%= category === 'Travel' ? 'btn-primary' : 'btn-outline-primary' %>">Travel</a>
                                <a href="/blog/viewAllblog?category=Food"
                                    class="btn btn-sm category-btn <%= category === 'Food' ? 'btn-primary' : 'btn-outline-primary' %>">Food</a>
                                <a href="/blog/viewAllblog?category=Lifestyle"
                                    class="btn btn-sm category-btn <%= category === 'Lifestyle' ? 'btn-primary' : 'btn-outline-primary' %>">Lifestyle</a>
                                <a href="/blog/viewAllblog?category=Sports"
                                    class="btn btn-sm category-btn <%= category === 'Sports' ? 'btn-primary' : 'btn-outline-primary' %>">Sports</a>
                                <a href="/blog/viewAllblog?category=Education"
                                    class="btn btn-sm category-btn <%= category === 'Education' ? 'btn-primary' : 'btn-outline-primary' %>">Education</a>
                                <a href="/blog/viewAllblog?category=Technology"
                                    class="btn btn-sm category-btn <%= category === 'Technology' ? 'btn-primary' : 'btn-outline-primary' %>">Technology</a>
                            </div>
                        </div>
                        <div class="row card-row">
                            <% if (blogs.length===0) { %>
                                <div class="col-12">
                                    <p class="text-center">No blogs found in this category.</p>
                                </div>
                                <% } %>
                                    <% blogs.forEach((blog, i)=> { %>
                                        <div class="col-auto mb-4">
                                            <h5 class="card-title text-center">
                                                <%= blog.title %>
                                            </h5>
                                            <div class="card shadow-lg" style="width: 300px;">
                                                <img src="<%= blog.blogimage %>" class="card-img-top" alt="Blog Image"
                                                    style="height:300px; width: 300px; object-fit:cover;">
                                                <div class="card-body">
                                                    <div class="d-flex justify-content-between">
                                                        <p class="mb-1">By <%= blog.authname %>
                                                        </p>
                                                        <span class="badge">
                                                            <%= blog.category %>
                                                        </span>
                                                    </div>
                                                    <p class="card-text"
                                                        style="height:40px; overflow:hidden; text-overflow:ellipsis;">
                                                        <%= blog.description.substring(0,100) %>...
                                                    </p>
                                                </div>

                                                <div class="card-footer d-flex justify-content-center">
                                                    <a href="/blog/singleblogview/<%= blog._id %>"
                                                        class="btn btn-sm btn-info">Read
                                                        More</a>
                                                </div>
                                            </div>
                                        </div>
                                    <% }) %>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End PAge Content -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Right sidebar -->
            <!-- ============================================================== -->
            <!-- .right-sidebar -->
            <!-- ============================================================== -->
            <!-- End Right sidebar -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Container fluid  -->
        <!-- ============================================================== -->

        <%- include("footer") %>